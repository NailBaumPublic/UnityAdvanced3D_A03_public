<div align="center">
  
![타이틀](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/41e36b4e-574d-4e52-8d81-12f79653f8d9)



<img src="https://img.shields.io/badge/Unity-000000?style=flat-square&logo=unity&logoColor=white"/><img src="https://img.shields.io/badge/C sharp-512BD4?style=flat-square&logo=csharp&logoColor=white"/>

</div>

# 📖목차

1. [프로젝트 소개](#프로젝트-소개)
2. [팀소개](#팀소개)
3. [프로젝트 계기](#프로젝트-계기)
4. [주요기능](#주요기능)
5. [개발기간](#개발기간)
6. [기술스택](#기술스택)
7. [서비스 구조](#서비스-구조)
8. [와이어프레임](#와이어프레임)
9. [UML](#UML)
10. [프로젝트 파일 구조](#프로젝트-파일-구조)
11. [Trouble Shooting](#trouble-shooting)
12. [시연영상](#시연영상)
    
<br>
<br>
<br>
<div align="center">
  
# 프로젝트 소개
전투와 생존을 하며 스토리를 진행하는 게임

Nav mesh를 이용한 적 npc의 AI 제작
아이템을 이용한 전투와 스탯 관리
날씨와 환경 설정
건축 시스템

### 게임 이름

#### **`여기에 게임 재목 입력`**

<br>

### 게임 컨셉

####   **`서바이벌 생존 게임`**
   
<br>
<br>
<br>

# 팀소개
### 내일배움캠프 Unity 4기 심화 프로젝트 A03조 3d(og)

<br>

### 👨‍👨‍👦 **멤버구성**

팀장 : **최지원**<br>
팀원 : **국기웅**<br>
팀원 : **이상수**<br>
팀원 : **김영선**

<br>
<br>
<br>

# 프로젝트 계기
3D 서바이벌 게임은 다양한 게임 메커니즘과 복잡한 시스템을 구현해야 해서 여러 기술을 배울 수 있는 좋은 기회입니다. 또한, Nav mesh를 이용한 Ai를 만드는 등 Unity에 있는 다양한 개발 도구들을 활용하기 좋은 기회 입니다.
이번 게임에서는 캐릭터 스탯 관리와 전투, 아이템 소모와 장착, 건축, 적들의 행동 양식 설정, 스토리와 퀘스트, 그리고 환경 설정 등 RPG나 서바이벌 게임 등에 필요한 요소를 만들어 내는 것을 목적으로 하였습니다.

<br>
<br>
<br>

# 주요기능
### 캐릭터 이동과 점프
![캐릭터 이동 점프](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/474a00c7-10b7-41a5-90ed-ee67d4c2654e)

### 조작법
![조작법](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/fd8d236d-bb14-42df-8d04-6c8564cf947e)

### 퀘스트와 스토리
![스토리1 (1)](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/6942b739-55ab-49a7-8f23-e8ba66b6b7c5)

### 자원 수집
![자원채집](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/76d49a82-375d-4182-951b-62de95e3703e)

### 생존 관리 시스템, 날씨와 환경 요소
![날씨](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/ba83215d-16f2-4a95-9393-afb2ee8ab2e1)

### 가공 시스템
![가공](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/77a73fd7-7994-4e10-988f-2b2606831bd0)

### 건축 시스템
![건축 벽 위에 바닥 설치](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/b5a97688-f6b8-40c8-b768-136dae982b14)

### 적과의 전투
![전투](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/416939b4-c230-45b7-bc2a-2b9524b1ecea)





<br>
<br>
<br>

# 개발기간
24.06.03 ~ 24.06.10

<br>
<br>
<br>

# 기술스택
### 언어
**C#**

### 프레임워크 및 라이브러리
**Unity**: 게임 개발 프레임워크<br>

### 개발 도구
**Visual Studio**: 통합 개발 환경(IDE)<br>
**GitHub**: 버전 관리 및 소스 코드 저장소

<br>
<br>
<br>

# 서비스 구조

<br><br>
### 기술 스택과의 관계
**Unity**: 클라이언트 개발에 사용되었습니다.<br>
**C#**: 게임 로직과 데이터 처리에 사용되었습니다.<br>
**Visual Studio**: 전체 개발 환경으로 사용되었습니다.<br>
**GitHub**: 코드 버전 관리 및 협업을 위한 플랫폼으로 사용되었습니다.


<br><br><br>

# 와이어프레임
![심화주차 와이어 프레임](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/c0b829df-6c6a-40de-87be-04609d48fe0a)

<br><br><br>

# UML
![image (12)](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/d0bf73e9-d1f4-4312-9105-26fa1c1b96a1)

<br><br><br>

# 프로젝트 파일 구조
![image (11)](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/3a77e72d-1915-4850-a79e-d312eb781564)


</div>

<br><br><br>

<div align="center">
  
# Trouble Shooting
</div>

### 1. Scene전환 시 광원이 제대로 적용되지 않던 오류

TitleScene에서 MainScene으로 전환할 때, 광원이 제대로 적용되지 않아 어둡게 표시됨

- Windows-rendering-lighting에서 Generate lighting으로 씬에 대한 조명 데이터를 계산함
- 이를 통해 빛표현과 빛반사를 사전에 계산해 적용시킬 수 있었음

![스크린샷 2024-06-10 154334](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/d60fed21-ee4d-4430-95d1-588dede2d49d)
![스크린샷 2024-06-10 160634](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/c0bbbc56-ac79-4f21-80c9-a81ea33007ed)


### 2. Nav Mesh로 움직이는 NPC가 목표지점으로 이동하지 않고 멋대로 움직이는 오류

Nav mesh를 이용한 NPC가 플레이어를 추적할 때 반대로 움직이는 문제는 애니메이션이 방향을 바꾸기 때문이었습니다. 
이를 해결하기 위해 애니메이션이 적용된 오브젝트 위에 부모 오브젝트를 두고 이를 통해 플레이어를 추적하게 했습니다. 
따라서 캐릭터를 이동시키려면 애니메이션과 별도로 부모 오브젝트를 사용해야 합니다.

![스크린샷 2024-06-10 154959](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/9712e304-c07f-4f81-a187-db243e232df3)

### 3. 새로운 바닥이 벽의 각 모서리에 붙는 것이 아닌 중앙에 붙어버리는 오류 발생

hit2.point에서 생성한다고 해서 그런 것 같다. hit2.point에서 바닥의 크기인 1의 절반만큼 떨어진 곳에서 생성하면 될 것 같다

![image (10) (1)](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/24693dca-da47-4436-8779-7bb7c2d75a02)

enum으로 동서남북, 상하를 만들어주고
enum을 반환하여 hit 된 방향을 알려주는 메서드를 추가해준다.

![코드1](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/22e016a7-9f28-4591-a48a-da8a2f202f61)


미리보기를 표시해주는 곳에서 hit된 방향에 따라 hit2.point에서 물체의 절반 크기인 0.5만큼 더하거나 빼주는 방식으로 미리보기의 위치를 수정해준다.

![코드2](https://github.com/LeeSangSoos/UnityAdvanced3D_A03/assets/127918879/1d5a539b-d392-48e9-bf73-024835819445)

### 4. 인벤토리 UI에서 드래그 앤 드롭으로 아이템 슬롯을 옮기는 기능을 개발했지만, 드래그에서 icon image를 제작했을 때, Slot 내부에 제작되어 타 슬롯에 가려지는 문제가 생김.

해결방안
  스크립트를 사용해서 transform.SetParent 기능을 사용해 슬롯보다 상위에 Instantiate함.

-> 추가 문제점
  아이콘은 마우스 포인터와 같은 곳에 생성되게 되어있음. 슬롯보다 상위로 생성된 아이콘에 의해 드래그 이후 아래 슬롯에 Enter, Drop이 감지되지 않는 문제가 생김.

해결방안
  스크립트를 사용해서 raycastTarget을 false로 변경함. 또한 해당 이미지의 layer를 2 : ignore Raycast로 변경했음. 이후 문제없이 잘 작동하는 모습을 볼 수 있다.



<div align="center">
  
# 시연영상
<br><br><br>
